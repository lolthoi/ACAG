DxBlazorInternal.define("cjs-tagbox-adba489a.js",(function(e,t,n){e("./cjs-chunk-c5286524.js");var o=e("./cjs-dom-utils-9b1ac92c.js"),s=e("./cjs-chunk-ad620f3e.js"),c=e("./cjs-chunk-e15409c9.js"),a=e("./cjs-chunk-a2fdd7b4.js"),r=e("./cjs-chunk-e9e6b6d6.js"),u=e("./cjs-dropdowns-bfd88b2e.js");e("./cjs-chunk-ac940e94.js");var i=e("./cjs-grid-2c5cdecf.js");e("./cjs-grid-column-resize-0bd0632e.js"),e("./cjs-popup-utils-e9fccadb.js"),e("./cjs-focus-utils-efe9a965.js"),e("./cjs-chunk-5ddcb914.js"),e("./cjs-dragAndDropUnit-8e207f13.js");var l=e("./cjs-chunk-852d87e2.js");function d(e){var t=u.getDropDownElement(e);i.scrollToFocusedItem(t)}function f(e,t,n){o.setInputAttribute(e,"value",t),m(e),n&&function(e){e&&e.select()}(e)}function m(e){e.previousSibling.innerText=""===e.value&&e.placeholder?e.placeholder:e.value}function j(e){e=o.ensureElement(e),document.activeElement===e&&y(e)}function v(e,t){var n=e.target;p(n,!0),function(e){if(e){var t=o.getParentByClassName(e,"form-control");t.dataset.bluredClass&&(t.className=t.dataset.bluredClass)}}(n),n.dataset.timerId=setTimeout((function(){if(delete n.dataset.timerId,document.activeElement!==n)try{b(t,n)}catch(e){}}),200)}function p(e,t){e.dataset.timerId&&(clearTimeout(e.dataset.timerId),delete e.dataset.timerId),t||setTimeout((function(){p(e,!0)}),100)}function y(e){if(e){var t=o.getParentByClassName(e,"form-control");t.dataset.focusedClass&&(t.className=t.dataset.focusedClass)}}function E(e,t,n,o,s){g(e)&&(e.stopPropagation(),e.preventDefault());var c=function(e){var t=e.altKey&&(e.keyCode===r.Key.Down||e.keyCode===r.Key.Up),n=h(e),o=e.keyCode===r.Key.Esc||e.keyCode===r.Key.Enter,s=function(e){var t=0===e.target.value.length;return e.keyCode===r.Key.Backspace&&t}(e);return t||n||o||s}(e)&&!e.repeat;o&&!e.repeat&&l.keyDown(e),c&&k(e,t,n,s)}function k(e,t,n,o){var s=e.target.value,c=""!==e.target.dataset.previousValue;if(n&&o){var a=n.querySelector(".dxgvCSD");a&&(n=a);var r=i.getParametersForVirtualScrollingRequest(n,!1);t.invokeMethodAsync("TagBoxVirtualScrollingProcessKey",s,e.keyCode,e.altKey,e.ctrlKey,r.requestScrollState.itemHeight,r.requestScrollState.scrollTop,r.requestScrollState.scrollHeight,c)}else t.invokeMethodAsync("TagBoxProcessKey",s,e.keyCode,e.altKey,e.ctrlKey,c)}function h(e){return e.keyCode===r.Key.Down||e.keyCode===r.Key.Up||e.keyCode===r.Key.PageUp||e.keyCode===r.Key.PageDown||e.ctrlKey&&(e.keyCode===r.Key.Home||e.keyCode===r.Key.End)}function g(e){return h(e)||e.keyCode===r.Key.Enter}function b(e,t,n){if(t){var o=(new Date).getTime();t.dataset.lastLostFocusTime&&o-t.dataset.lastLostFocusTime<300&&!n||(t.dataset.lastLostFocusTime=(new Date).getTime(),document.activeElement!==t&&(t.value=""),e.invokeMethodAsync("OnTagBoxLostFocus",t.value))}}function C(e,t,n){var i=o.ensureElement(e);if(i){c.disposeEvents(i);var d=o.ensureElement(t.inputElement),f=u.getDropDownElement(i),j=function(e){return E(e,n,f,t.filteringEnabled,t.virtualScrollingEnabled)},h=function(e){return function(e,t,n,o,s){if(g(e))e.stopPropagation(),e.preventDefault(),e.keyCode!==r.Key.Up&&e.keyCode!==r.Key.Down||t.invokeMethodAsync("OnTagBoxKeyUp",e.keyCode===r.Key.Up);else if(o&&l.keyUp(e)){if(e.keyCode===r.Key.Backspace&&""===e.target.dataset.previousValue)return;k(e,t,n,s)}return!1}(e,n,f,t.filteringEnabled,t.virtualScrollingEnabled)},C=function(e){return function(e,t){y(e.target)}(e)},T=function(e){return v(e,n)},K=function(e){return m(e.target)},D=function(e){return p(d)},I=function(e){return u.onOutsideClick(e,i,(function(){o.elementIsInDOM(i)||c.disposeEvents(i);var e=document.activeElement===d,t=d.dataset.timerId>0,s=f&&u.isDropDownVisible(f);p(d),(e||t||s)&&b(n,d,!0)}))};return s.attachEventToElement(d,"keydown",j),s.attachEventToElement(d,"keyup",h),s.attachEventToElement(d,"focus",C),s.attachEventToElement(d,"blur",T),s.attachEventToElement(d,"input",K),s.attachEventToElement(i,"mousedown",D),s.attachEventToElement(document,a.TouchUIHelper.touchMouseDownEventName,I),c.registerDisposableEvents(i,(function(){s.detachEventFromElement(d,"keydown",j),s.detachEventFromElement(d,"keyup",h),s.detachEventFromElement(d,"focus",C),s.detachEventFromElement(d,"blur",T),s.detachEventFromElement(d,"input",K),s.detachEventFromElement(i,"mousedown",D),s.detachEventFromElement(document,a.TouchUIHelper.touchMouseDownEventName,I)})),m(d),Promise.resolve("ok")}}function T(e){if(e=o.ensureElement(e))return c.disposeEvents(e),Promise.resolve("ok")}n.default={init:C,dispose:T,prepareInputIfFocused:j,scrollToFocusedItem:d,fitInputWidth:m,forceInputValue:f},n.dispose=T,n.fitInputWidth=m,n.forceInputValue=f,n.init=C,n.prepareInputIfFocused=j,n.scrollToFocusedItem=d}),["cjs-chunk-c5286524.js","cjs-dom-utils-9b1ac92c.js","cjs-chunk-ad620f3e.js","cjs-chunk-e15409c9.js","cjs-chunk-a2fdd7b4.js","cjs-chunk-e9e6b6d6.js","cjs-dropdowns-bfd88b2e.js","cjs-chunk-ac940e94.js","cjs-grid-2c5cdecf.js","cjs-grid-column-resize-0bd0632e.js","cjs-popup-utils-e9fccadb.js","cjs-focus-utils-efe9a965.js","cjs-chunk-5ddcb914.js","cjs-dragAndDropUnit-8e207f13.js","cjs-chunk-852d87e2.js"]);

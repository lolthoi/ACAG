DxBlazorInternal.define("cjs-grid-column-resize-0bd0632e.js",(function(e,t,i){e("./cjs-chunk-c5286524.js");var n=e("./cjs-dom-utils-9b1ac92c.js"),o=e("./cjs-chunk-ad620f3e.js"),s=e("./cjs-chunk-a2fdd7b4.js"),r=e("./cjs-chunk-e9e6b6d6.js");function l(e){window.dxAccessibilityHelper||(window.dxAccessibilityHelper=new h),window.dxAccessibilityHelper.sendMessageToAssistiveTechnology(e)}var h=function(){this._helperElement=null},u={helperElement:{configurable:!0}};u.helperElement.get=function(){return null==this._helperElement&&(this._helperElement=this.createHelperElement()),this._helperElement},h.prototype.createHelperElement=function(){var e=document.createElement("DIV");return e.className="dxAIFE",e.setAttribute("role","note"),e.setAttribute("aria-live","assertive"),document.documentElement.appendChild(e),e},h.prototype.sendMessageToAssistiveTechnology=function(e){var t=this;this.helperElement.innerHTML=e,setTimeout((function(){t.helperElement.innerHTML=""}),300)},Object.defineProperties(h.prototype,u);var a={Disabled:0,NextColumn:1,Component:2},d=0,c=1,m=2,p=function(e,t,i,n){this._mainElement=e,this._nextHeaderCellElement=e.nextElementSibling,this._blazorComponent=n,this._gridResizeProxy=t,this._mode=i,this._resizeParameters={},this._resizeAnchor=null,this._lastWidth=null,this._lastNextWidth=null,this._timeoutId=null,this._leftMouseXBoundary=null,this._rightMouseXBoundary=null},f={mainElement:{configurable:!0},nextHeaderCellElement:{configurable:!0},hasNextColumn:{configurable:!0},hasColumnId:{configurable:!0},gridResizeProxy:{configurable:!0},blazorComponent:{configurable:!0},resizeAnchor:{configurable:!0},caption:{configurable:!0},isResizeAllowed:{configurable:!0},step:{configurable:!0}};f.mainElement.get=function(){return this._mainElement},f.nextHeaderCellElement.get=function(){return this._nextHeaderCellElement},f.hasNextColumn.get=function(){return!!this._nextHeaderCellElement},f.hasColumnId.get=function(){return this.mainElement.hasAttribute("data-dxdg-column-id")},f.gridResizeProxy.get=function(){return this._gridResizeProxy},f.blazorComponent.get=function(){return this._blazorComponent},f.resizeAnchor.get=function(){return this._resizeAnchor},f.caption.get=function(){return this.mainElement.innerText},f.isResizeAllowed.get=function(){return this._mode!==a.Disabled&&this.hasColumnId&&(this.hasNextColumn||this._mode===a.Component)},f.step.get=function(){var e=Math.ceil((this._resizeParameters.maxWidth-this._resizeParameters.minWidth)/100);return e>5&&(e=5),e},p.prototype.initialize=function(){this.createResizeAnchor(),M().initializeHeaderCellEvents(this),this.initializeEvents()},p.prototype.initializeEvents=function(){this.isResizeAllowed&&(this.mainElement.addEventListener("focus",this.onFocus.bind(this)),this.mainElement.addEventListener("keydown",this.onKeyDown.bind(this)),this.mainElement.addEventListener("keyup",this.onKeyUp.bind(this)))},p.prototype.onFocus=function(e){o.getEventSource(e)===this.mainElement&&(this.onFocusCore(),this._lastWidth=this.mainElement.offsetWidth,this._lastNextWidth=this.hasNextColumn?this.nextHeaderCellElement.offsetWidth:0,this.updateResizeParameters())},p.prototype.onKeyDown=function(e){if(o.getEventSource(e)===this.mainElement)switch(e.keyCode){case r.Key.Left:this.onKeyResize(-this.step),e.stopPropagation(),e.preventDefault();break;case r.Key.Right:this.onKeyResize(this.step),e.stopPropagation(),e.preventDefault()}},p.prototype.onKeyResize=function(e){var t=1500;this.hasNextColumn&&(t=this._lastWidth+this._lastNextWidth);var i=this._lastWidth+e;n.RequestAnimationFrame(function(){this.setWidth(i,t,e)}.bind(this)),this._timeoutId&&clearTimeout(this._timeoutId)},p.prototype.onKeyUp=function(e){var t=this;if(o.getEventSource(e)===this.mainElement){var i=e.keyCode;i===r.Key.Left&&i===r.Key.Right&&(this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout((function(){return t.invokeSetWidth()}),500))}},p.prototype.updateResizeParameters=function(){var e=this.mainElement.offsetWidth,t=this.isResizeAllowed,i=1500;this._mode===a.NextColumn&&(i=e+(this.hasNextColumn?this.nextHeaderCellElement.offsetWidth:0)-30),this._resizeParameters={allowResize:t,minWidth:t?30:e,currentWidth:e,maxWidth:t?i:e}},p.prototype.update=function(e){var t=this.isResizeAllowed;this._nextHeaderCellElement=this.mainElement.nextElementSibling,this._mode=e,this.isResizeAllowed?t||(this.mainElement.appendChild(this._resizeAnchor),M().initializeHeaderCellEvents(this)):t&&(this.mainElement.removeChild(this._resizeAnchor),M().removeHeaderCellEvents(this))},p.prototype.createResizeAnchor=function(){var e=document.createElement("div");n.addClassNameToElement(e,"dxColumnResizeAnchor"),e.dxResizableHeaderCell=this,this._resizeAnchor=e,this.mainElement.appendChild(e)},p.prototype.onMouseDown=function(){this.setMouseBoundaries(),this.onFocusCore()},p.prototype.setMouseBoundaries=function(){var e=this.mainElement.getBoundingClientRect(),t=Math.min(30,e.width);if(this._leftMouseXBoundary=e.left+t-10,this._mode===a.NextColumn){var i=this.nextHeaderCellElement.getBoundingClientRect();this._rightMouseXBoundary=e.right+i.width-30}},p.prototype.removeMouseBoundaries=function(){this._leftMouseXBoundary=null,this._rightMouseXBoundary=null},p.prototype.getResizeType=function(e){return e<=this._leftMouseXBoundary?c:this._rightMouseXBoundary&&e>=this._rightMouseXBoundary?m:d},p.prototype.onFocusCore=function(){this.isResizeAllowed&&(this.ensureWidthSyncronized(),l("Width is "+this.mainElement.offsetWidth+" pixels. Use arrow keys to resize."))},p.prototype.onDragResizeAnchor=function(e,t){if(this.isResizeAllowed){var i=this.getResizeType(t),n=this.mainElement.offsetWidth,o=this.getNewWidth(n,e,i);this.setWidth(o,this.hasNextColumn?n+this.nextHeaderCellElement.offsetWidth:null,e)}},p.prototype.getNewWidth=function(e,t,i){switch(i){case c:return Math.min(30,e);case m:return e+this.nextHeaderCellElement.offsetWidth-30;default:return e+t}},p.prototype.onDragResizeAnchorStop=function(){this.removeMouseBoundaries(),this.invokeSetWidth()},p.prototype.setWidth=function(e,t,i){if(!this.isWidthChanged(e)||!this.isValidWidth(e,t,i))return!1;var o=function(e){if("border-box"===window.getComputedStyle(e,null).getPropertyValue("box-sizing"))return 0;return n.getLeftRightPaddings(e)}(this.mainElement),s=t-(e-=o)-o;return this._lastWidth=e,this._lastNextWidth=s,this.gridResizeProxy.setWidth(this._mode,e,s),!0},p.prototype.isWidthChanged=function(e){return e!==this._lastWidth},p.prototype.invokeSetWidth=function(){var e=this;this._lastWidth&&this._lastNextWidth&&(this.gridResizeProxy.resetWidth(),M().lockResize(),this.blazorComponent.invokeMethodAsync("SetColumnWidths",_(this.mainElement),this._lastWidth,_(this.nextHeaderCellElement),this._lastNextWidth).then((function(){e._lastWidth=null,e._lastNextWidth=null,M().unlockResize()})))},p.prototype.isValidWidth=function(e,t,i){var n=e>=30||i>0;return n&&this._mode!==a.Component&&(n=e<=t-30),n},p.prototype.ensureWidthSyncronized=function(){if(!this.isWidthSyncronized()){var e=this.gridResizeProxy;this.blazorComponent.invokeMethodAsync("GetCellCache").then((function(t){e.syncronizeWidth(t)}))}},p.prototype.isWidthSyncronized=function(){var e=!1,t=this.gridResizeProxy.getColElementInlineWidth();0===t?e=!0:e=t===this.mainElement.offsetWidth;return e},Object.defineProperties(p.prototype,f);var g=function(e,t){this.mainElement=e,this.update(t)},y={colElements:{configurable:!0},elementsToSetComponentWidth:{configurable:!0},elementsToSyncWidth:{configurable:!0},elementsToCheckScroll:{configurable:!0},elementsToReset:{configurable:!0}};y.colElements.get=function(){return w(this._colElements,this._resizeElements.colElements)},y.elementsToSetComponentWidth.get=function(){return w(this._elementsToSetComponentWidth,this._resizeElements.elementsToSetComponentWidth)},y.elementsToSyncWidth.get=function(){return w(this._elementsToSyncWidth,this._resizeElements.elementsToSyncWidth)},y.elementsToCheckScroll.get=function(){return w(this._elementsToCheckScroll,this._resizeElements.elementsToCheckScroll)},y.elementsToReset.get=function(){return w(this._elementsToReset,this._resizeElements.elementsToReset)},g.prototype.update=function(e){this._resizeElements=e,this._colElements=null,this._elementsToSetComponentWidth=null,this._elementsToSyncWidth=null,this._elementsToCheckScroll=null,this._elementsToReset=null},g.prototype.setWidth=function(e,t,i){l(t+" pixels"),this.setComponentWidth(t),this.colElements.forEach((function(n){n.style.width=R(t),e===a.NextColumn&&(n.nextElementSibling.style.width=R(i))}))},g.prototype.setComponentWidth=function(e){if(this.elementsToSetComponentWidth&&!this.isScrollExists()){var t=e-this.mainElement.offsetWidth,i=[];this.elementsToSetComponentWidth.forEach((function(e){return i.push(new E(e,e.offsetWidth+t))})),this.elementsToSyncWidth&&i.push(new E(this.elementsToSyncWidth[0],this.elementsToSyncWidth[1].offsetWidth+t)),i.forEach((function(e){return e.apply()}))}},g.prototype.isScrollExists=function(){var e=this.elementsToCheckScroll;if(e)return e[0].clientWidth<e[1].clientWidth},g.prototype.getColElementInlineWidth=function(){for(var e=0,t=this.colElements,i=0;i<t.length;i++){var n=t[i].style.width;if(""!==n){e=parseInt(n);break}}return e},g.prototype.syncronizeWidth=function(e){n.RequestAnimationFrame((function(){for(var t=e.map((function(e){var t=n.ensureElement(e[0]);return t?{width:t.offsetWidth,cols:T(e[1])}:null})).filter((function(e){return e})),i=0;i<t.length;i++)for(var o=t[i].cols,s=0;s<o.length;s++)o[s].style.width=R(t[i].width)}))},g.prototype.resetWidth=function(){this.elementsToReset&&!this.isScrollExists()&&this.elementsToReset.forEach((function(e){e.style.width=null}))},Object.defineProperties(g.prototype,y);var E=function(e,t){this._element=e,this._width=t};E.prototype.apply=function(){this._element.style.width=R(this._width)};var z=function(){this._pageX=-1,this._resizeLock=0,this._resizableHeaderCell=null},v={pageX:{configurable:!0},resizableHeaderCell:{configurable:!0}};function _(e){return e?e.getAttribute("data-dxdg-column-id").split("|")[0]:(-1).toString()}function C(e){return Math.round(e.pageX||e.changedTouches&&e.changedTouches[0].pageX||0)}function W(e){var t=M(),i=o.getEventSource(e).dxResizableHeaderCell;if(i&&i.isResizeAllowed){var n=C(e);t.onMouseDown(i,n)}}function x(e){var t=M();if(!t.isResizeLocked()&&-1!==t.pageX){var i=C(e),o=i-t.pageX;if(t.pageX=i,0!==o){var s=t.resizableHeaderCell;s&&n.RequestAnimationFrame((function(){s.onDragResizeAnchor(o,i)}))}}}function b(){var e=M();e.resizableHeaderCell.onDragResizeAnchorStop(),e.invalidateState(),document.removeEventListener(s.TouchUIHelper.touchMouseMoveEventName,x),document.removeEventListener(s.TouchUIHelper.touchMouseUpEventName,b)}function R(e){return e+"px"}function w(e,t){return t?(e||(e=T(t)),e):null}function T(e){return e.map((function(e){return document.getElementById(e)}))}function M(){return null===window.dxResizeEventManagerInstance&&(window.dxResizeEventManagerInstance=new z),window.dxResizeEventManagerInstance}v.pageX.get=function(){return this._pageX},v.pageX.set=function(e){this._pageX=e},v.resizableHeaderCell.get=function(){return this._resizableHeaderCell},z.prototype.initializeHeaderCellEvents=function(e){this.initializeMouseDown(e.resizeAnchor)},z.prototype.initializeMouseDown=function(e){e.addEventListener(s.TouchUIHelper.touchMouseDownEventName,W)},z.prototype.initializeMouseMove=function(){document.addEventListener(s.TouchUIHelper.touchMouseMoveEventName,x)},z.prototype.initializeMouseUp=function(){document.addEventListener(s.TouchUIHelper.touchMouseUpEventName,b)},z.prototype.removeHeaderCellEvents=function(e){e.resizeAnchor.removeEventListener(s.TouchUIHelper.touchMouseDownEventName,W)},z.prototype.onMouseDown=function(e,t){this._resizableHeaderCell=e,e.onMouseDown(),this.pageX=t,this.initializeMouseMove(),this.initializeMouseUp()},z.prototype.lockResize=function(){this._resizeLock++},z.prototype.unlockResize=function(){this._resizeLock--},z.prototype.isResizeLocked=function(){return this._resizeLock>0},z.prototype.invalidateState=function(){this._pageX=-1,this._resizableHeaderCell=null},Object.defineProperties(z.prototype,v),window.dxResizeEventManagerInstance=null;var S=new Map;function A(e,t,i,o){if(e=n.ensureElement(e)){var s=S.get(e);if(s)s.update(i),s.gridResizeProxy.update(t);else{var r=new g(e,t);(s=new p(e,r,i,o)).isResizeAllowed&&(s.initialize(),S.set(e,s))}}}var H={initResizeColumn:A};i.ColumnResizeMode=a,i.default=H,i.initResizeColumn=A,i.minColumnWidth=30}),["cjs-chunk-c5286524.js","cjs-dom-utils-9b1ac92c.js","cjs-chunk-ad620f3e.js","cjs-chunk-a2fdd7b4.js","cjs-chunk-e9e6b6d6.js"]);

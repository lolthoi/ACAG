DxBlazorInternal.define("cjs-combobox-a29da2a5.js",(function(e,t,n){e("./cjs-chunk-c5286524.js");var o=e("./cjs-dom-utils-9b1ac92c.js"),s=e("./cjs-chunk-ad620f3e.js"),c=e("./cjs-chunk-e15409c9.js"),a=e("./cjs-chunk-a2fdd7b4.js"),r=e("./cjs-chunk-e9e6b6d6.js"),u=e("./cjs-dropdowns-bfd88b2e.js");e("./cjs-chunk-ac940e94.js");var d=e("./cjs-grid-2c5cdecf.js");e("./cjs-grid-column-resize-0bd0632e.js"),e("./cjs-popup-utils-e9fccadb.js"),e("./cjs-focus-utils-efe9a965.js"),e("./cjs-chunk-5ddcb914.js"),e("./cjs-dragAndDropUnit-8e207f13.js");var l=e("./cjs-chunk-852d87e2.js");function i(e){var t=u.getDropDownElement(e);d.scrollToFocusedItem(t)}function m(e){e=o.ensureElement(e),document.activeElement===e&&f(e)}function j(e,t){e.dataset.timerId&&(clearTimeout(e.dataset.timerId),delete e.dataset.timerId),t||setTimeout((function(){j(e,!0)}),100)}function f(e){e&&e.dataset.focusedClass&&(e.className=e.dataset.focusedClass)}function y(e,t,n,o,s){p(e)&&(e.stopPropagation(),e.preventDefault());var c=function(e){var t=e.altKey&&(e.keyCode===r.Key.Down||e.keyCode===r.Key.Up),n=E(e),o=e.keyCode===r.Key.Esc||e.keyCode===r.Key.Enter;return t||n||o}(e)&&!e.repeat;o&&!e.repeat&&l.keyDown(e),c&&v(e,t,n,s)}function v(e,t,n,o){var s=e.target.value;if(n&&o){var c=n.querySelector(".dxgvCSD");c&&(n=c);var a=d.getParametersForVirtualScrollingRequest(n,!1);t.invokeMethodAsync("ComboBoxVirtualScrollingProcessKey",s,e.keyCode,e.altKey,e.ctrlKey,a.requestScrollState.itemHeight,a.requestScrollState.scrollTop,a.requestScrollState.scrollHeight)}else t.invokeMethodAsync("ComboBoxProcessKey",s,e.keyCode,e.altKey,e.ctrlKey)}function E(e){return e.keyCode===r.Key.Down||e.keyCode===r.Key.Up||e.keyCode===r.Key.PageUp||e.keyCode===r.Key.PageDown||e.ctrlKey&&(e.keyCode===r.Key.Home||e.keyCode===r.Key.End)}function p(e){return E(e)||e.keyCode===r.Key.Enter}function k(e,t,n){if(t){var o=(new Date).getTime();t.dataset.lastLostFocusTime&&o-t.dataset.lastLostFocusTime<300&&!n||(t.dataset.lastLostFocusTime=(new Date).getTime(),e.invokeMethodAsync("OnComboBoxLostFocus",t.value))}}function h(e,t,n){var d=o.ensureElement(e);if(d){c.disposeEvents(d);var i=t.filteringEnabled,m=o.ensureElement(t.inputElement),E=u.getDropDownElement(d),h=E,b=function(e){return y(e,n,h,i,t.virtualScrollingEnabled)},g=function(e){return function(e,t,n,o,s){return p(e)?(e.stopPropagation(),e.preventDefault(),e.keyCode!==r.Key.Up&&e.keyCode!==r.Key.Down||t.invokeMethodAsync("OnComboBoxKeyUp",e.keyCode===r.Key.Up)):o&&l.keyUp(e)&&v(e,t,n,s),!1}(e,n,h,i,t.virtualScrollingEnabled)},C=function(e){return function(e,t){f(e.target)}(e)},D=function(e){return function(e,t){var n=e.target;j(n,!0),n.dataset.timerId=setTimeout((function(){if(delete n.dataset.timerId,function(e){e&&e.dataset.bluredClass&&(e.className=e.dataset.bluredClass)}(n),document.activeElement!==n)try{k(t,n)}catch(e){}}),200)}(e,n)},K=function(e){return j(m)},T=function(e){return u.onOutsideClick(e,d,(function(){o.elementIsInDOM(d)||c.disposeEvents(d);var e=document.activeElement===m,t=m.dataset.timerId>0,s=E&&u.isDropDownVisible(E);j(m),(e||t||s)&&k(n,m,!0)}))};return s.attachEventToElement(m,"keydown",b),s.attachEventToElement(m,"keyup",g),s.attachEventToElement(m,"focus",C),s.attachEventToElement(m,"blur",D),s.attachEventToElement(d,"mousedown",K),s.attachEventToElement(document,a.TouchUIHelper.touchMouseDownEventName,T),c.registerDisposableEvents(d,(function(){s.detachEventFromElement(m,"keydown",b),s.detachEventFromElement(m,"keyup",g),s.detachEventFromElement(m,"focus",C),s.detachEventFromElement(m,"blur",D),s.detachEventFromElement(d,"mousedown",K),s.detachEventFromElement(document,a.TouchUIHelper.touchMouseDownEventName,T)})),Promise.resolve("ok")}}function b(e){if(e=o.ensureElement(e))return c.disposeEvents(e),Promise.resolve("ok")}n.default={init:h,dispose:b,prepareInputIfFocused:m,scrollToSelectedItem:i},n.dispose=b,n.init=h,n.prepareInputIfFocused=m,n.scrollToSelectedItem=i}),["cjs-chunk-c5286524.js","cjs-dom-utils-9b1ac92c.js","cjs-chunk-ad620f3e.js","cjs-chunk-e15409c9.js","cjs-chunk-a2fdd7b4.js","cjs-chunk-e9e6b6d6.js","cjs-dropdowns-bfd88b2e.js","cjs-chunk-ac940e94.js","cjs-grid-2c5cdecf.js","cjs-grid-column-resize-0bd0632e.js","cjs-popup-utils-e9fccadb.js","cjs-focus-utils-efe9a965.js","cjs-chunk-5ddcb914.js","cjs-dragAndDropUnit-8e207f13.js","cjs-chunk-852d87e2.js"]);

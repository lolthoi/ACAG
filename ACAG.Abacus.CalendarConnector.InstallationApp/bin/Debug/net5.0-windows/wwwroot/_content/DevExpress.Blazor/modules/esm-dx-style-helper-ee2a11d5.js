import{B as e}from"./esm-chunk-d81494b9.js";import{toPx as t}from"./esm-dom-utils-c40cd314.js";class n{constructor(e,t){this._name=e,this._value=t}get name(){return this._name}get value(){return this._value}}class s{constructor(e,t){this._selectors=e,this._rules=t}get selectors(){return this._selectors}get rules(){return this._rules}toString(e){let t=this.rules.join("\n");for(let n=0;n<e.length;n++){const s=e[n];t=t.replace(new RegExp(""+s.name,"g"),s.value)}return`${this.selectors.join(",\n")} { ${t} }`}}class l{constructor(){this._rules=[],this._dummyContainer=null,this._ieCssStyles=[new s(["th:focus .dxColumnResizeAnchor"],["box-shadow: 0 0 0 1px --dx-accent-shadow-color;"]),new s(["th:focus .dxColumnResizeAnchor::after"],["border-left: 1px solid --dx-accent-color;","border-right: 1px solid --dx-accent-color;"]),new s([".table th:focus:before"],["box-shadow: 0 0 0 2px --dx-accent-color;"])],this.initialize()}get styleElement(){return null==this._styleElement&&(this._styleElement=this.createStyleElement()),this._styleElement}createStyleElement(){const e=document.createElement("STYLE");return document.head.appendChild(e),e}initialize(){this.initializeDummyElements(),this.initializeRules(),this.updateStyleElement(),this.removeDummyElements()}initializeDummyElements(){const e=this.createDummyContainer(),t=this.createDummyLink();e.appendChild(t),document.documentElement.appendChild(e),this._dummyContainer=e}createDummyContainer(){const e=document.createElement("DIV");return e.style.top=t(-1e4),e.style.left=t(-1e4),e.className="dxAIFE",e.setAttribute("aria-hidden",!0),e}createDummyLink(){const e=document.createElement("A");return e.innerHTML="test",e.href="javascript:;",e}removeDummyElements(){document.documentElement.removeChild(this._dummyContainer),this._dummyContainer=null}initializeRules(){const e=this.getAccentColor();this._rules.push(new n("--dx-accent-color",e)),this._rules.push(new n("--dx-accent-shadow-color",this.getAccentShadowColor(e)))}getAccentColor(){const e=this._dummyContainer.querySelector("a");return window.getComputedStyle(e).color}getAccentShadowColor(e){const t=e.replace("rgb","").replace("(","").replace(")","").split(",").map(e=>e.trim());t.push(".25");return`rgba(${t.join(",")})`}updateStyleElement(){e.IE?this.updateIEStyleElement():this.updateStyleElementCore()}updateIEStyleElement(){const e=this._ieCssStyles.map(e=>e.toString(this._rules)).join("\n");this.styleElement.innerHTML=e}updateStyleElementCore(){const e=this._rules.map(e=>`${e.name}: ${e.value}`).join(";\n");this.styleElement.innerHTML=`:root{ ${e} }`}update(){this._rules=[],this.initialize()}}function i(){window.dxDefaultStyle||(window.dxDefaultStyle=new l)}const r={ensureDefaultStyle:i};export default r;export{i as ensureDefaultStyle};
